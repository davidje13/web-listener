export const helpText = (name: string) => [
  '',
  'HTTP/1.1 server for Node.js',
  '',
  'Serves the current directory on port 8080 by default.',
  'When running, send SIGINT (Ctrl+C) to stop.',
  'Send SIGHUP or press enter to reload config.',
  '',
  `  npx ${name} -- [dir] [flags]`,
  '',
  'Options:',
  '  --config-file=..., -c Path to a JSON configuration file to use (see below)',
  '  --config-json=..., -C Inline JSON configuration to use (see below)',
  '  --port=..., -p        The port to bind to. Default "8080"',
  '  --host=..., -a        The host address to bind to. Default "localhost"',
  '  --dir=...             The directory to serve. Default "."',
  '  --404=...             File to use for file-not-found, with status 404',
  '  --spa=...             File to use for file-not-found, with status 200',
  '                        (e.g. to serve an index file for Single-Page-Apps)',
  '  --zstd, --zst         Serve .zst files if zstd compression is requested',
  '  --brotli, --br, -b    Serve .br files if brotli compression is requested',
  '  --gzip, --gz, -g      Serve .gz files if gzip compression is requested',
  '  --deflate             Serve .deflate files if deflate compression is requested',
  '  --proxy=..., -P       Proxy requests which match no files to this server',
  '  --mime=...            Extra file-extension-to-mime-types to use, in the format',
  '                        "ext1=mime1;ext2=mime2" (e.g. "txt=text/plain")',
  '  --mime-types=...      Path to an Apache .types file of mime types to register',
  '  --help, -h            Print this message and exit',
  '  --version, -v         Print the current version and exit',
  '',
  'JSON Configuration:',
  '',
  'JSON offers a more powerful way to configure the server. You can define one or',
  'more servers (one per port), each with its own set of mounted handlers.',
  'Example definition:',
  '',
  '  {',
  '    "servers": [',
  '      {',
  '        "port": 9000,',
  '        "mount": [',
  '          { "type": "files", "dir": "." }',
  '          { "type": "fixture", "method": "GET", "path": "/hello.txt", "body": "Hi!" }',
  '          { "type": "proxy", "target": "https://example.com" }',
  '        ]',
  '      }',
  '    ],',
  '    "mime": ["foo=application/x-foo"],',
  '  }',
  '',
  'All CLI flags are compatible with JSON configuration except --dir and --proxy.',
  '--port is not compatible with JSON configurations with more than one server.',
  '',
  'MIME definitions:',
  '',
  'When defining mime types, some shorthands are available:',
  '- multiple mappings separated by semicolons: foo=text/x-foo;bar=text/x-bar',
  '- multiple file extensions separated by commas: foo,bar=text/plain',
  '- use the file extension in the mime type with {ext}: css,csv=text/{ext}',
  '- optional parts in brackets: jp(e)g,tif(f)=image/{ext}',
  '  ({ext} always maps to the full name, so the example maps .jpg to image/jpeg)',
  '',
  'When using an apache .types file, each line contains a mime type, any amount of',
  'whitespace, then a list of space-separated extensions (without a dot). Lines',
  'starting with # are ignored as comments.',
  '',
  'Example usage:',
  '',
  `  npx ${name} . --port 3000 --gzip --mime="foo=text/x-foo" --mime="bar=text/x-bar"`,
  '',
  `  npx ${name} /dev/null --proxy https://example.com`,
  '',
  `  npx ${name} -C '{"servers":[{"port":8080,"mount":[{"type":"files","dir":"."}]}]}'`,
];
